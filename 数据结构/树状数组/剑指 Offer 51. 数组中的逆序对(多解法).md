### 原题链接 -- [[剑指 Offer 51. 数组中的逆序对](https://leetcode.cn/problems/shu-zu-zhong-de-ni-xu-dui-lcof/)]

### 题目概述：
Tag : 「树状数组」、「排序」、「离散化」

![image](https://user-images.githubusercontent.com/99656524/201452385-f2346071-7ceb-4ccd-a1b0-c7e8dccb78e6.png)

### 数据范围
* $0 <= 数组长度 <= 50000$

本题还有其他解法，等待学会后更新

### 解法一：树状数组+离散化
本题是树状数组入门题，可以通过这道题来熟悉树状数组这种数据结构。

题目大意为找到数组中每个数的逆序对总和，逆序对可以理解为 $a[i] < a[j]$ 且 $i > j$ 。先从暴力的角度来看一下这题，我们可以用两层循环，第一层枚举数组元素，第二层枚举数组左边的元素，若比当前数组元素大，则加1，不断记录左边比当前元素大的个数。但是两层循环需要 $O(n^2)$ 的复杂度，这样的复杂对对于 $10^4$ 的数据是不能接受的。因此我们需要数据结构去优化这个记录的过程。由于提到了数组和，我们应该会先想到前缀和，我们可以将左边比自己大的数的个数记录到一个数组里，然后动态维护这个数组的前缀和。而普通前缀和不能及时地记录和查询左边比自己大的数，所以我们只能用更高级的树状数组和线段树。树状数组的两个操作 $add$ 和 $query$ 刚好非常适合记录和查询这两个功能，我们用add
